<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MIDA Recruitment Node</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    :root{
      --ui-bg: rgba(7, 8, 12, .74);
      --ui-ink: rgba(245, 247, 255, .92);
      --ui-muted: rgba(245, 247, 255, .62);
      --ui-line: rgba(245, 247, 255, .12);
      --ui-neon-a: rgba(190, 120, 255, .75);
      --ui-neon-b: rgba(90, 170, 255, .55);
      --ui-hot: rgba(255, 80, 200, .55);
    }

    body{
      overflow: hidden;
      background:
        radial-gradient(circle at 1px 1px, rgba(245,247,255,.18) 1px, transparent 1.5px) 0 0 / 22px 22px,
        radial-gradient(1100px 720px at 35% 20%, rgba(190,120,255,.13), transparent 60%),
        radial-gradient(900px 640px at 70% 35%, rgba(90,170,255,.10), transparent 60%),
        #07080c;
    }

    .node{
      width: min(980px, calc(100% - 40px));
      margin: 26px auto;
      border-radius: 20px;
      border: 1px solid rgba(245,247,255,.12);
      background: linear-gradient(to bottom, rgba(255,255,255,.04), transparent 35%), var(--ui-bg);
      box-shadow:
        0 22px 70px rgba(0,0,0,.55),
        0 0 0 1px rgba(190,120,255,.10) inset;
      overflow: hidden;
      position: relative;
    }

    .node::before{
      content:"";
      position:absolute;
      inset:-2px;
      border-radius: 22px;
      pointer-events:none;
      background:
        radial-gradient(520px 320px at 20% 10%, rgba(190,120,255,.22), transparent 60%),
        radial-gradient(520px 360px at 85% 40%, rgba(90,170,255,.18), transparent 62%),
        radial-gradient(420px 260px at 40% 95%, rgba(255,80,200,.10), transparent 60%);
      opacity: .9;
      filter: blur(10px);
      mix-blend-mode: screen;
    }

    .overlay{
      position:absolute;
      inset:0;
      pointer-events:none;
      opacity:.75;
    }
    .scanlines{
      position:absolute;
      inset:0;
      background: repeating-linear-gradient(to bottom, rgba(255,255,255,.05), rgba(255,255,255,.05) 1px, transparent 1px, transparent 3px);
      opacity:.55;
      mix-blend-mode: overlay;
    }
    .noise{
      position:absolute;
      inset:0;
      background:
        repeating-linear-gradient(90deg, rgba(255,255,255,.03), rgba(255,255,255,.03) 1px, transparent 1px, transparent 4px),
        radial-gradient(900px 700px at 50% 40%, rgba(190,120,255,.10), transparent 62%);
      opacity:.55;
      animation: jitter .12s steps(2) infinite;
      filter: contrast(1.1);
      mix-blend-mode: screen;
    }
    @keyframes jitter{
      0%{ transform: translate(0,0); }
      25%{ transform: translate(1px,-1px); }
      50%{ transform: translate(-1px,1px); }
      75%{ transform: translate(2px,0); }
      100%{ transform: translate(0,0); }
    }

    .node-header{
      display:flex;
      align-items:center;
      justify-content: space-between;
      padding: 14px 16px;
      border-bottom: 1px solid rgba(245,247,255,.10);
      background:
        linear-gradient(to right, rgba(190,120,255,.16), rgba(90,170,255,.08)),
        rgba(0,0,0,.28);
      color: var(--ui-muted);
      font-size: 12px;
      letter-spacing:.2px;
      position: relative;
      z-index: 2;
    }
    .hud{ display:flex; align-items:center; gap:10px; white-space: nowrap; }
    .pill{
      border: 1px solid rgba(245,247,255,.14);
      background: rgba(0,0,0,.18);
      padding: 5px 10px;
      border-radius: 999px;
      color: rgba(245,247,255,.72);
    }
    .xmark{
      width: 18px;
      height: 18px;
      display:inline-grid;
      place-items:center;
      border-radius: 6px;
      border: 1px solid rgba(245,247,255,.12);
      background: rgba(0,0,0,.22);
      color: rgba(245,247,255,.75);
      font-weight: 900;
      line-height: 1;
    }
    .xmark::before{ content:"Ã—"; }

    .screen{
      height: min(72vh, 680px);
      padding: 16px 16px 22px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      line-height: 1.45;
      color: var(--ui-ink);
      overflow:auto;
      position: relative;
      z-index: 2;
    }
    .screen::before{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      background: radial-gradient(900px 520px at 50% 30%, transparent 55%, rgba(0,0,0,.35) 100%);
      opacity:.75;
      mix-blend-mode: multiply;
    }

    .line{ white-space: pre-wrap; word-break: break-word; position: relative; z-index: 1; }
    .dim{ color: rgba(245,247,255,.68); }
    .hot{ color: rgba(190,120,255,.95); }
    .warn{ color: rgba(255,80,200,.90); }

    .prompt{
      display:flex;
      gap: 10px;
      align-items: baseline;
      margin-top: 12px;
      position: relative;
      z-index: 1;
    }
    .ps1{ color: rgba(90,170,255,.95); text-shadow: 0 0 14px rgba(90,170,255,.22); }
    input{
      flex: 1;
      background: transparent;
      border: none;
      outline: none;
      color: var(--ui-ink);
      font: inherit;
      padding: 0;
      caret-color: rgba(255,255,255,0);
    }
    .cursor{
      width: 10px;
      height: 14px;
      background: rgba(245,247,255,.75);
      border-radius: 2px;
      transform: translateY(2px);
      animation: blink .9s steps(1) infinite;
      box-shadow: 0 0 18px rgba(190,120,255,.20);
    }
    @keyframes blink{ 50%{ opacity: 0; } }
  </style>
</head>

<body>
  <div class="node" role="application" aria-label="MIDA Recruitment Node Terminal">
    <div class="overlay">
      <div class="scanlines"></div>
      <div class="noise"></div>
    </div>

    <div class="node-header">
      <div class="hud">
        <span class="xmark" aria-hidden="true"></span>
        <span class="xmark" aria-hidden="true"></span>
        <span>MIDA RECRUITMENT NODE</span>
      </div>
      <div class="hud">
        <span class="pill" id="assessment">assessment: pending</span>
        <span class="pill">session://temp</span>
      </div>
    </div>

    <div class="screen" id="screen" role="log" aria-live="polite">
      <div class="line dim">:: establishing link...</div>
      <div class="line dim">:: validating pattern reconstruction...</div>
      <div class="line dim">:: handshake ok</div>
      <div class="line"> </div>
      <div class="line hot" id="intro"></div>
      <div class="line dim">Type <span class="hot">help</span> for available commands.</div>

      <div class="prompt" id="prompt">
        <span class="ps1">mida@node:~$</span>
        <input id="input" autocomplete="off" autocapitalize="off" spellcheck="false" />
        <span class="cursor" aria-hidden="true"></span>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const screen = document.getElementById("screen");
      const input  = document.getElementById("input");
      const intro  = document.getElementById("intro");
      const badge  = document.getElementById("assessment");

      function print(line = "", cls = "") {
        const div = document.createElement("div");
        div.className = "line" + (cls ? (" " + cls) : "");
        div.textContent = line;
        const prompt = document.getElementById("prompt");
        screen.insertBefore(div, prompt);
        screen.scrollTop = screen.scrollHeight;
      }

      function clearScreen() {
        const prompt = document.getElementById("prompt");
        Array.from(screen.children).forEach(node => {
          if (node !== prompt && node !== intro) node.remove();
        });
        intro.textContent = "";
      }

      function msToHuman(ms){
        const s = Math.round(ms / 1000);
        if (s < 60) return s + "s";
        const m = Math.floor(s/60);
        const r = s % 60;
        return m + "m " + r + "s";
      }

      const durMs = Number(localStorage.getItem("mida_duration_ms") || 0);
      const tookLong = durMs && durMs > 45000;

      intro.textContent = tookLong
        ? "Pattern recognition: slow but consistent." + (durMs ? ("  (" + msToHuman(durMs) + ")") : "")
        : "Cognitive alignment: above threshold." + (durMs ? ("  (" + msToHuman(durMs) + ")") : "");

      badge.textContent = "assessment: " + (tookLong ? "stable" : "elevated");

      const commands = {

arena() {
  print("launching sandbox...", "dim");
  const a = document.createElement("a");
  a.href = "./arena.html";
  a.target = "_self";
  a.rel = "noopener";
  document.body.appendChild(a);
  a.click();
},


deploy() { commands.arena(); },
sim() { commands.arena(); },

        help() {
          print("Available commands:", "dim");
          print("  help        - show this list", "dim");
          print("  clear       - clear screen", "dim");
          print("  status      - show node status", "dim");
          print("  whoami      - show session identity", "dim");
          print("  connect     - request deeper access", "dim");
          print("  exit        - return to entry page", "dim");
        },
        clear() { clearScreen(); print(":: screen cleared", "dim"); },
        status() {
          print("node.status = ONLINE", "hot");
          print("channel.integrity = nominal", "dim");
          print("signal.noise = acceptable", "dim");
          print("recruitment.queue = open", "dim");
        },
        whoami() { 
          print("session.identity = visitor", "dim");
          print("trace.profile = minimal", "dim");
          print("authorization = provisional", "dim");
        },
        connect() {
          print("requesting deeper access...", "dim");
          setTimeout(() => {
            print("response: DENIED", "warn");
            print("reason: insufficient proof-of-intent", "dim");
            print("note: return when the symbol finds you first.", "dim");
          }, 380);
        },
        exit() {
          print("closing session...", "dim");
          setTimeout(() => { window.location.href = "index.html"; }, 350);
        }
      };

      function runCommand(raw){
        const cmd = raw.trim();
        if (!cmd) return;
        print("mida@node:~$ " + cmd, "dim");

        const [name] = cmd.split(/\s+/);
        if (commands[name]) commands[name](cmd);
        else print("command not found: " + name, "warn");
      }

      screen.addEventListener("click", () => input.focus());
      input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          const value = input.value;
          input.value = "";
          runCommand(value);
        }
      });

      input.focus();
    })();
  </script>
</body>
</html>
